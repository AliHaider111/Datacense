{"ast":null,"code":"var _jsxFileName = \"/home/ali/Ali code-p/Datacense-tk/Datacense-task/client/src/components/static/Auth/Tabs/Login.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport * as yup from \"yup\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport \"react-tabs/style/react-tabs.css\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\n// __ __ __ Images __ __ __ //\n\n// __ __ __ Slices __ __ __ //\n// import { setUserData } from \"../../../../app/pages/UserProfile/UserSlice\";\n// import {\n//   loginModelStatus,\n//   forgotModelStatus,\n// } from \"../../../../../store/slices/Auth/authModelSlice\";\n\nimport { setAccessToken } from \"../../../../store/slice/Auth/\";\nimport { postHttpRequest } from \"../../../../axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst schema = yup.object().shape({\n  email: yup.string().email(\"Invalid email\").required(\"Email is required\"),\n  password: yup.string().required(\"Password is required\").min(8, \"Password should be greater then 8 digits\").max(32, \"Password should be smaller then 32 digits\")\n});\nconst Login = _ref => {\n  _s();\n  var _errors$email, _errors$password;\n  let {\n    t\n  } = _ref;\n  const btnRef = useRef(null);\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const [passView, setPassView] = useState(false);\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    },\n    reset\n  } = useForm({\n    resolver: yupResolver(schema)\n  });\n  const onSubmitHandler = async payload => {\n    postHttpRequest(\"front/auth/login\", payload).then(function (res) {\n      var _res$data, _res$data2, _res$data2$data;\n      const {\n        firstName,\n        lastName,\n        username\n      } = res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.data;\n      localStorage.setItem(\"user\", JSON.stringify(res === null || res === void 0 ? void 0 : res.data.data));\n      localStorage.setItem(\"accessToken\", res === null || res === void 0 ? void 0 : res.data.data.accessToken);\n      localStorage.setItem(\"_id\", res === null || res === void 0 ? void 0 : res.data.data._id);\n      dispatch(setAccessToken(res === null || res === void 0 ? void 0 : (_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : (_res$data2$data = _res$data2.data) === null || _res$data2$data === void 0 ? void 0 : _res$data2$data.accessToken));\n      // dispatch(setUserData(res?.data?.data));\n      removeClass(dispatch, loginModelStatus);\n      toast.success(res === null || res === void 0 ? void 0 : res.data.message);\n      if (firstName == \"\" && lastName == \"\" && username == \"\") {\n        return navigate(\"/app/user-profile\");\n      }\n      return navigate(\"/\");\n    }).catch(function (error) {\n      var _error$response;\n      toast.error(error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data.message);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"px-4\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(onSubmitHandler),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login_form sm:px-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-field mb-7 ml-auto mr-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"f-size-13 font-normal formLabelClr\",\n            children: \"email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"email\",\n            name: \"email\",\n            type: \"text\",\n            className: \"login-email rounded-lg border border-slate-100 border-solid w-full\"\n            //   placeholder={t(\"static.email\")}\n            ,\n            ...register(\"email\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"errors\",\n            children: (_errors$email = errors.email) === null || _errors$email === void 0 ? void 0 : _errors$email.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-field mb-4 ml-auto mr-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"f-size-13 font-normal formLabelClr\",\n            children: \"password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: passView ? \"text\" : \"password\",\n            className: \"login-email rounded-lg border border-slate-100 border-solid w-full\"\n            //   placeholder={t(\"static.password\")}\n            ,\n            ...register(\"password\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"errors\",\n            children: (_errors$password = errors.password) === null || _errors$password === void 0 ? void 0 : _errors$password.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        ref: btnRef,\n        type: \"submit\",\n        className: \"sign-in justify-center flex items-center  w-full max-width rounded-lg border py-4 f-size-16 font-bold mb-2.5\",\n        children: \"signIn\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"forget-pass inline-block\",\n        onClick: handelModal,\n        children: \"forgotYourPassword\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"9qkUdyEybm0tkzVEMwDi/YIRdV0=\", false, function () {\n  return [useNavigate, useDispatch, useForm];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useEffect","useRef","useState","yup","useForm","yupResolver","Link","useNavigate","useDispatch","toast","setAccessToken","postHttpRequest","jsxDEV","_jsxDEV","schema","object","shape","email","string","required","password","min","max","Login","_ref","_s","_errors$email","_errors$password","t","btnRef","navigate","dispatch","passView","setPassView","register","handleSubmit","formState","errors","reset","resolver","onSubmitHandler","payload","then","res","_res$data","_res$data2","_res$data2$data","firstName","lastName","username","data","localStorage","setItem","JSON","stringify","accessToken","_id","removeClass","loginModelStatus","success","message","catch","error","_error$response","response","className","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","id","name","type","ref","onClick","handelModal","_c","$RefreshReg$"],"sources":["/home/ali/Ali code-p/Datacense-tk/Datacense-task/client/src/components/static/Auth/Tabs/Login.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport * as yup from \"yup\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport \"react-tabs/style/react-tabs.css\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\n// __ __ __ Images __ __ __ //\n\n\n\n// __ __ __ Slices __ __ __ //\n// import { setUserData } from \"../../../../app/pages/UserProfile/UserSlice\";\n// import {\n//   loginModelStatus,\n//   forgotModelStatus,\n// } from \"../../../../../store/slices/Auth/authModelSlice\";\n\nimport { setAccessToken } from \"../../../../store/slice/Auth/\";\nimport { postHttpRequest } from \"../../../../axios\";\n\n\n\n\n\nconst schema = yup.object().shape({\n  email: yup.string().email(\"Invalid email\").required(\"Email is required\"),\n  password: yup\n    .string()\n    .required(\"Password is required\")\n    .min(8, \"Password should be greater then 8 digits\")\n    .max(32, \"Password should be smaller then 32 digits\"),\n});\n\nconst Login = ({ t }) => {\n  const btnRef = useRef(null);\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const [passView, setPassView] = useState(false);\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    reset,\n  } = useForm({ resolver: yupResolver(schema) });\n\n \n\n  const onSubmitHandler = async (payload) => {\n    \n    postHttpRequest(\"front/auth/login\", payload)\n      .then(function (res) {\n        \n        const { firstName, lastName, username } = res?.data?.data;\n        localStorage.setItem(\"user\", JSON.stringify(res?.data.data));\n        localStorage.setItem(\"accessToken\", res?.data.data.accessToken);\n        localStorage.setItem(\"_id\", res?.data.data._id);\n        dispatch(setAccessToken(res?.data?.data?.accessToken));\n        // dispatch(setUserData(res?.data?.data));\n        removeClass(dispatch, loginModelStatus);\n        toast.success(res?.data.message);\n        if (firstName == \"\" && lastName == \"\" && username == \"\") {\n          return navigate(\"/app/user-profile\");\n        }\n        return navigate(\"/\");\n      })\n      .catch(function (error) {\n        \n        toast.error(error?.response?.data.message);\n      });\n  };\n\n \n\n  return (\n    <div className=\"px-4\">\n      {/* <h5 className=\"font-bold signin-heading pt-6 f-size-18 mb-4\">\n        {t(\"static.signUpUsing\")}\n      </h5>\n     \n      <h5 className=\"font-bold signin-heading pt-10 f-size-18 mb-6\">\n        {t(\"static.signUpWithEmail\")}\n      </h5> */}\n      <form onSubmit={handleSubmit(onSubmitHandler)}>\n        <div className=\"login_form sm:px-4\">\n          <div className=\"form-field mb-7 ml-auto mr-auto\">\n            <label className=\"f-size-13 font-normal formLabelClr\">\n            email\n            </label>\n            <input\n              id=\"email\"\n              name=\"email\"\n              type=\"text\"\n              className=\"login-email rounded-lg border border-slate-100 border-solid w-full\"\n            //   placeholder={t(\"static.email\")}\n              {...register(\"email\")}\n            ></input>\n            <p className=\"errors\">{errors.email?.message}</p>\n          </div>\n          <div className=\"form-field mb-4 ml-auto mr-auto\">\n            <label className=\"f-size-13 font-normal formLabelClr\">\n            password\n            </label>\n            <input\n              type={passView ? \"text\" : \"password\"}\n              className=\"login-email rounded-lg border border-slate-100 border-solid w-full\"\n            //   placeholder={t(\"static.password\")}\n              {...register(\"password\")}\n            ></input>\n            {/* <span className=\"icon\" onClick={() => setPassView(!passView)}>\n              {passView ? <EyeslashIcon /> : <EyeIcon />}{\" \"}\n            </span> */}\n            <p className=\"errors\">{errors.password?.message}</p>\n          </div>\n        </div>\n        <button\n          ref={btnRef}\n          type=\"submit\"\n          className=\"sign-in justify-center flex items-center  w-full max-width rounded-lg border py-4 f-size-16 font-bold mb-2.5\"\n        >\n          signIn\n        </button>\n        <button className=\"forget-pass inline-block\" onClick={handelModal}>\n        forgotYourPassword\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}